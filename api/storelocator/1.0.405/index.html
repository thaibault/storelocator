<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>storelocator 1.0.405</h3>










    




    <section>
        <article><!-- !/usr/bin/env markdown
-*- coding: utf-8 -*-
region header
Copyright Torben Sickert (info["~at~"]torben.website) 16.12.2012

License
-------

This library written by Torben Sickert stand under a creative commons naming
3.0 unported license. See https://creativecommons.org/licenses/by/3.0/deed.de
endregion -->
<h2>Project status</h2>
<p><a href="https://www.npmjs.com/package/storelocator"><img src="https://img.shields.io/npm/v/storelocator?color=%23d55e5d&amp;label=npm%20package%20version&amp;logoColor=%23d55e5d" alt="npm"></a>
<a href="https://www.npmjs.com/package/storelocator"><img src="https://img.shields.io/npm/dy/storelocator.svg" alt="npm downloads"></a></p>
<p><a href="https://github.com/thaibault/storelocator/actions/workflows/build.yaml"><img src="https://github.com/thaibault/storelocator/actions/workflows/build.yaml/badge.svg" alt=""></a>
<a href="https://github.com/thaibault/storelocator/actions/workflows/test.yaml"><img src="https://github.com/thaibault/storelocator/actions/workflows/test.yaml/badge.svg" alt=""></a>
<a href="https://github.com/thaibault/storelocator/actions/workflows/test:coverage:report.yaml"><img src="https://github.com/thaibault/storelocator/actions/workflows/test:coverage:report.yaml/badge.svg" alt=""></a>
<a href="https://github.com/thaibault/storelocator/actions/workflows/check:types.yaml"><img src="https://github.com/thaibault/storelocator/actions/workflows/check:types.yaml/badge.svg" alt=""></a>
<a href="https://github.com/thaibault/storelocator/actions/workflows/lint.yaml"><img src="https://github.com/thaibault/storelocator/actions/workflows/lint.yaml/badge.svg" alt=""></a></p>
<p><a href="https://coveralls.io/github/thaibault/storelocator"><img src="https://coveralls.io/repos/github/thaibault/storelocator/badge.svg" alt="code coverage"></a></p>
<!-- Too unstable yet
[![dependencies](https://img.shields.io/david/thaibault/storelocator.svg)](https://david-dm.org/thaibault/storelocator)
[![development dependencies](https://img.shields.io/david/dev/thaibault/storelocator.svg)](https://david-dm.org/thaibault/storelocator?type=dev)
[![peer dependencies](https://img.shields.io/david/peer/thaibault/storelocator.svg)](https://david-dm.org/thaibault/storelocator?type=peer)
-->
<p><a href="https://torben.website/storelocator"><img src="https://img.shields.io/website-up-down-green-red/https/torben.website/storelocator.svg?label=documentation-website" alt="documentation website"></a></p>
<!--|deDE:Einsatz-->
<h2>Use case</h2>
<p>A webcomponent to serve a store locator via google maps.</p>
<!--deDE:
    Eine Web-Komponente zum Bereitstellen eines Google-Maps-Storelocators.
-->
<!--Place for automatic generated table of contents.-->
<div class="doc-toc" style="display:none">
    <!--|deDE:Inhalt-->
    <h2 id="content">Content</h2>
</div>
<!--|deDE:Installation-->
<h2>Installation</h2>
<!--|deDE:Klassische Dom-Integration-->
<h3>Classical dom injection</h3>
<p>You can simply download the compiled version as zip file here and inject it
after needed dependencies:</p>
<!--deDE:
    Du kannst einfach das Plugin als Zip-Archiv herunterladen und per
    Script-Tag in deine Webseite integrieren:
-->
<pre class="prettyprint source lang-HTML"><code>&lt;script
    src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;
    integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot;
    crossorigin=&quot;anonymous&quot;
>&lt;/script>
&lt;script
    src=&quot;https://torben.website/clientnode/data/distributionBundle/index.js&quot;
>&lt;/script>
&lt;script
    src=&quot;https://cdn.rawgit.com/googlemaps/js-marker-clusterer/gh-pages/src/markerclusterer.js&quot;
>&lt;/script>
&lt;!--Inject downloaded file:
&lt;script src=&quot;index.js&quot;>&lt;/script>
-->
&lt;!--Or integrate via cdn:-->
&lt;script
    src=&quot;https://torben.website/storelocator/data/distributionBundle/index.js&quot;
>&lt;/script>
</code></pre>
<p>The compiled bundle supports AMD, commonjs, commonjs2 and variable injection
into given context (UMD) as export format: You can use a module bundler if you
want.</p>
<!--deDE:
    Das kompilierte Bundle unterstützt AMD, commonjs, commonjs2 und
    Variable-Injection in den gegebenen Context (UMD) als Export-Format:
    Dadurch können verschiedene Module-Bundler genutzt werden.
-->
<!--|deDE:Paket-Management und Modul-Komposition-->
<h3>Package managed and module bundled</h3>
<p>If you are using npm as package manager you can simply add this tool to your
<strong>package.json</strong> as dependency:</p>
<!--deDE:
    Nutzt du npm als Paket-Manager, dann solltest du einfach deine
    <strong>package.json</strong> erweitern:
-->
<pre class="prettyprint source lang-JSON"><code>...
&quot;dependencies&quot;: {
    ...
    &quot;storelocator&quot;: &quot;latest&quot;,
    ...
},
...
</code></pre>
<p>After updating your packages you can simply depend on this script and let
a module bundler do the hard stuff or access it via an exported variable name
in given context.</p>
<!--deDE:
    Nach einem Update deiner Pakete kannst du dieses Plugin einfach in deine
    JavaScript-Module importieren oder die exportierte Variable im gegebenen
    Context referenzieren.
-->
<pre class="prettyprint source lang-JavaScript"><code>...
import StoreLocator from 'storelocator'
class SpecialStoreLocator extends StoreLocator...
// or
import {$} from 'storelocator'
class SpecialStoreLocator extends $.StoreLocator.class ...
// or
StoreLocator = require('storelocator').default
value instanceof StoreLocator
// or
$ = require('storelocator').$
$('[store-locator]').StoreLocator()
...
</code></pre>
<!--|deDE:Beispiele-->
<h2>Examples</h2>
<!--|deDE:Designvorgaben für die Store-Locator Beispiele-->
<h3>Adding some style to our store locator examples</h3>
<!--showExample:cascadingStyleSheet-->
<pre class="prettyprint source lang-CSS"><code>body.documentation simple-store-locator,
body.documentation advanced-store-locator,
body.documentation div.store-locator-with-bounds {
    width: 100%;
    height: 400px;
    margin: 0px;
    padding: 0px
}
body.documentation simple-store-locator > div,
body.documentation advanced-store-locator > div,
body.documentation div.store-locator-with-bounds > div {
    height: 100%;
}
body.documentation simple-store-locator input.form-control,
body.documentation advanced-store-locator input.form-control,
body.documentation div.store-locator-with-bounds input.form-control {
    margin-top: 9px;
    margin-left: 9px;
    width: 230px;
}
body.documentation simple-store-locator div.gm-style-iw > div,
body.documentation advanced-store-locator div.gm-style-iw > div,
body.documentation div.store-locator-with-bounds div.gm-style-iw > div {
    width: 225px;
    height: 60px;
    padding: 5px;
}
</code></pre>
<!--|deDE:Laden einiger benötigter Ressourcen-->
<h3>Load needed dependencies</h3>
<!--showExample:javaScript-->
<pre class="prettyprint source lang-JavaScript"><code>const dependenciesLoadPromise = $documentationWebsite.getScript(
    'https://code.jquery.com/jquery-3.6.0.min.js'
).then(() =>
    $.getScript(
        'https://torben.website/clientnode/data/distributionBundle/index.js'
    )
).then(() =>
    $.getScript(
        'https://cdn.rawgit.com/googlemaps/js-marker-clusterer/gh-pages/src/' +
        'markerclusterer.js'
    )
).then(() =>
    $.getScript(
        'https://torben.website/storelocator/data/distributionBundle/index.js'
    )
)
</code></pre>
<!--|deDE:Einfaches Beispiel-->
<h3>Simple example</h3>
<!--showExample-->
<pre class="prettyprint source lang-HTML"><code>&lt;script>
    dependenciesLoadPromise.always(() => $(
        'body simple-store-locator'
    ).StoreLocator({applicationInterface: {
        // NOTE: You should use your own google maps application interface key.
        key: 'AIzaSyBAoKgqF4XaDblkRP4-94BITpUKzB767LQ'
    }}))
&lt;/script>
&lt;simple-store-locator>&lt;input class=&quot;form-control&quot;>&lt;/simple-store-locator>
</code></pre>
<!--|deDE:Erweitertes Beispiel mit allen verfügbaren (standart) Optionen-->
<h3>Advanced example with all available (default) options</h3>
<!--showExample-->
<pre class="prettyprint source lang-HTML"><code>&lt;script>
    dependenciesLoadPromise.always(() => $(
        'body advanced-store-locator'
    ).StoreLocator({
        applicationInterface: {
            url:
                'https://maps.googleapis.com/maps/api/js' +
                '?{1}v=3&sensor=false&libraries=places,geometry&' +
                'callback={2}',
            callbackName: null,
            // NOTE: You should use your own google maps application
            // interface key.
            key: 'AIzaSyBAoKgqF4XaDblkRP4-94BITpUKzB767LQ'
        },
        stores: {
            northEast: {latitude: 85, longitude: 180},
            southWest: {latitude: -85, longitude: -180},
            number: 100,
            generateProperties: (store) => store
        },
        addtionalStoreProperties: {},
        iconPath: '/webAsset/image/storeLocator/',
        defaultMarkerIconFileName: null,
        startLocation: null,
        fallbackLocation: {latitude: 51.124213, longitude: 10.147705},
        ip: null,
        ipToLocation: {
            applicationInterfaceURL: '{1}://freegeoip.net/json/{2}',
            timeoutInMilliseconds: 5000,
            bounds: {
                northEast: {latitude: 85, longitude: 180},
                southWest: {latitude: -85, longitude: -180}
            }
        },
        map: {zoom: 3},
        showInputAfterLoadedDelayInMilliseconds: 500,
        input: {
            hide: {opacity: 0},
            showAnimation: [{opacity: 1}, {duration: 'fast'}]
        },
        distanceToMoveByDuplicatedEntries: 0.0001,
        marker: {
            cluster: {
                gridSize: 100, maxZoom: 11, imagePath:
                    'https://cdn.rawgit.com/googlemaps/' +
                    'js-marker-clusterer/gh-pages/images/m'
            },
            icon: {
                size: {width: 44, height: 49, unit: 'px'},
                scaledSize: {width: 44, height: 49, unit: 'px'}
            }
        },
        successfulSearchZoom: 12,
        infoWindow: {
            content: null,
            additionalMoveToBottomInPixel: 120,
            loadingContent: '&lt;div class=&quot;idle&quot;>loading...&lt;/div>'
        },
        searchBox: 50,
        onInfoWindowOpen: $.noop,
        onInfoWindowOpened: $.noop,
        onAddSearchResults: $.noop,
        onRemoveSearchResults: $.noop,
        onOpenSearchResults: $.noop,
        onCloseSearchResults: $.noop,
        onMarkerHighlighted: $.noop
    }))
&lt;/script>
&lt;advanced-store-locator>
    &lt;input class=&quot;form-control&quot;>
&lt;/advanced-store-locator>
</code></pre>
<!--|deDE:Beispiel mit limitiertem traversierbarem Bereich (Deutschland)-->
<h3>Example with limited traversable area (Germany)</h3>
<!--showExample-->
<pre class="prettyprint source lang-HTML"><code>&lt;script>
    dependenciesLoadPromise.always(() => {
        const bounds = {
            northEast: {latitude: 55.12, longitude: 14.89},
            southWest: {latitude: 47.32, longitude: 5.50}
        }
        $('body div.store-locator-with-bounds').StoreLocator({
            applicationInterface: {
                // NOTE: You should use your own google maps applciation
                // interface key.
                key: 'AIzaSyBAoKgqF4XaDblkRP4-94BITpUKzB767LQ'
            },
            ipToLocation: {bounds},
            limit: {zoom: {minimum: 5}, bounds},
            map: {zoom: 5},
            stores: bounds
        })
    })
&lt;/script>
&lt;div class=&quot;store-locator-with-bounds&quot;>&lt;input class=&quot;form-control&quot;>&lt;/div>
</code></pre>
<h1>TODO</h1>
<ul>
<li>@property _options.applicationInterface - To store application interface</li>
<li>options in.</li>
<li>@property _options.applicationInterface.url - URL tor retrieve google maps</li>
<li>application interface.</li>
<li>@property _options.applicationInterface.callbackName - Global resource path</li>
<li>to callback function to trigger when google has finished loading the</li>
<li>application interface.</li>
<li>@property _options.applicationInterface.key - Application interface key to</li>
<li>authenticate against google maps application interface.</li>
<li>@property _options.stores - URL to retrieve stores, list of stores or object</li>
<li>describing bounds to create random stores within. If a &quot;generateProperties&quot;</li>
<li>function is given it will be called to retrieve additional properties for</li>
<li>each store. The specified store will be given to the function.</li>
<li>@property _options.additionalStoreProperties - Additional static store</li>
<li>properties which will be available to each store.</li>
<li>@property _options.iconPath - Path prefix to search for marker icons.</li>
<li>@property _options.defaultMarkerIconFileName - Specifies a fallback marker</li>
<li>icon (if no store specific icon was set). If set to &quot;null&quot; google will place</li>
<li>a fallback icon.</li>
<li>@property _options.startLocation - If not provided we initialize the map</li>
<li>with center in current location determined by internet protocol address. If</li>
<li>an object is given a &quot;latitude&quot; and &quot;longitude&quot; with a saved float are</li>
<li>assumed.</li>
<li>@property _options.fallbackLocation - Fallback location if automatic</li>
<li>location determination has failed.</li>
<li>@property _options.fallbackLocation.latitude - Latitude value.</li>
<li>@property _options.fallbackLocation.longitude - Longitude value.</li>
<li>@property _options.ip - If provided given ip will be used to determine</li>
<li>current location instead of automatically determined one.</li>
<li>@property _options.ipToLocationApplicationInterface - Configuration for ip</li>
<li>to location conversion.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds - Defines bounds</li>
<li>within determined locations should be. If resolved location isn't within</li>
<li>this location it will be ignored.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.northEast -</li>
<li>Defines north east bound.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.northEast</li>
<li>.latitude - North east latitude bond.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.northEast</li>
<li>.longitude - North east longitude bond.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.southWest -</li>
<li>Defined south west bound.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.southWest</li>
<li>.latitude - South east latitude bound.</li>
<li>@property _options.ipToLocationApplicationInterface.bounds.southWest</li>
<li>.longitude - South west longitude bound.</li>
<li>@property _options.ipToLocationApplicationInterface.key - Key to let the api</li>
<li>identify your service plan.</li>
<li>@property _options.ipToLocationApplicationInterface.protocol - Protocol to</li>
<li>use for api requests.</li>
<li>@property _options.ipToLocationApplicationInterface.timeoutInMilliseconds -</li>
<li>Time to wait for ip resolve. If time is up initialize on given fallback</li>
<li>location.</li>
<li>@property _options.ipToLocationApplicationInterface.url - IP to location</li>
<li>determination application interface url. {1}, {2} and {3} represents</li>
<li>currently used protocol, key and potentially given ip.</li>
<li>@property _options.map - Initial view properties.</li>
<li>@property _options.showInputAfterLoadedDelayInMilliseconds - Delay before we</li>
<li>show search input field.</li>
<li>@property _options.inputFadeInOption - Transition options to show search</li>
<li>input field.</li>
<li>@property _options.distanceToMoveByDuplicatedEntries - Distance to move if</li>
<li>stores are determined with same latitude and longitude.</li>
<li>@property _options.marker - Options passed to the marker cluster. If set to</li>
<li>&quot;null&quot; no marker cluster will appear.</li>
<li>@property _options.icon - Options passed to the icon.</li>
<li>@property _options.successfulSearchZoomLevel - Specifies a zoom value wich</li>
<li>will be adjusted after successfully picked a search result. If set to &quot;null&quot;</li>
<li>no zoom change happens.</li>
<li>@property _options.infoWindow - Info window options.</li>
<li>@property _options.infoWindow.content - Function or string returning or</li>
<li>representing the info box. If a function is given and a promise is returned</li>
<li>the info box will be filled with the given loading content and updated with</li>
<li>the resolved data. The function becomes the corresponding marker as first</li>
<li>argument and the store locator instance as second argument. If nothing is</li>
<li>provided all available data will be listed in a generic info window.</li>
<li>@property _options.infoWindow.additionalMoveToBottomInPixel - Additional</li>
<li>move to bottom relative to the marker if an info window has been opened.</li>
<li>@property _options.infoWindow.loadingContent - Content to show in the info</li>
<li>window during info window load.</li>
<li>@property _options.search - If a number is given a generic search will be</li>
<li>provided and given number will be interpret as search result precision</li>
<li>tolerance to identify a marker as search result.</li>
<li>@property _options.search.stylePropertiesToDeriveFromInputField - List of</li>
<li>cascading style properties to derive from input field and use for search</li>
<li>box.</li>
<li>@property _options.search.properties - Specify which store data should</li>
<li>contain given search text.</li>
<li>@property _options.search.maximumNumberOfResults - Limits the auto complete</li>
<li>result list.</li>
<li>@property _options.search.loadingContent - Markup to display while the</li>
<li>results are loading.</li>
<li>@property _options.search.generic - Specifies options for the additional</li>
<li>generic search to add to specific search results.</li>
<li>@property _options.search.generic.number - A tuple describing a range of</li>
<li>minimal to maximal limits of additional generic google suggestions depending</li>
<li>on number of local search results.</li>
<li>@property _options.search.generic.maximalDistanceInMeter - Range to specify</li>
<li>maximal distance from current position to search suggestions.</li>
<li>@property _options.search.generic.filter - Specifies a callback which gets a</li>
<li>relevant place to decide if the place should be included (returns a boolean</li>
<li>value).</li>
<li>@property _options.search.generic.prefer - Specifies a boolean value</li>
<li>indicating if generic search results should be the first results.</li>
<li>@property _options.search.generic.retrieveOptions - Specifies how a generic</li>
<li>place search should be done (google maps request object specification).</li>
<li>@property _options.search.content - Defines how to render the search</li>
<li>results. This can be a callback or a string returning or representing the</li>
<li>search results. If a function is given and a promise is returned the info</li>
<li>box will be filled with the given loading content and updated with the</li>
<li>resolved data. The function becomes search results as first argument, a</li>
<li>boolean value as second argument indicating if the maximum number of search</li>
<li>results was reached and the store locator instance itself as third argument.</li>
<li>If nothing is provided all available data will be listed in a generic info</li>
<li>window.</li>
<li>@property _options.search.resultAggregation - &quot;Union&quot; or &quot;cut&quot;.</li>
<li>@property _options.search.normalizer - Pure function to normalize strings</li>
<li>before searching against them.</li>
<li>@property _options.onInfoWindowOpen - Triggers if a marker info window will</li>
<li>be opened.</li>
<li>@property _options.onInfoWindowOpened - Triggers if a marker info window has</li>
<li>finished opening.</li>
<li>@property _options.onAddSearchResults - Triggers before new search results</li>
<li>appears.</li>
<li>@property _options.onRemoveSearchResults - Triggers before old search</li>
<li>results will be removed.</li>
<li>@property _options.onOpenSearchResults - Triggers before search result box</li>
<li>appears.</li>
<li>@property _options.onCloseSearchResults - Triggers before search result box</li>
<li>will be hidden.</li>
<li>@property _options.onMarkerHighlighted - Triggers after a marker starts to</li>
<li>highlight.</li>
</ul>
<!-- region modline
vim: set tabstop=4 shiftwidth=4 expandtab:
vim: foldmethod=marker foldmarker=region,endregion:
endregion --></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu May 12 2022 21:15:30 GMT+0200 (Mitteleuropäische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>